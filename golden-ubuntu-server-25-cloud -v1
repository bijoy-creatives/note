
  sudo virt-install \
  --name golden-noble-server-cloudimg-amd64-microservice \
  --ram 4096 \
  --vcpus 4 \
  --cpu host-model \
  --import \
  --disk path=/home/bijoy/vm-iso/noble-server-cloudimg-amd64.img,format=qcow2,bus=virtio,size=20 \
  --disk path=/home/bijoy/cloud-init/golden-noble-server-cloudimg-amd64-microservice.iso,device=cdrom,readonly=on \
  --os-variant ubuntu24.04 \
  --network network=default,model=virtio \
  --graphics vnc \
  --noautoconsole \
  --channel unix,target.type=virtio,target.name=org.qemu.guest_agent.0


  sudo virt-install \
  --name consul-microservice \
  --ram 4096 \
  --vcpus 4 \
  --cpu host-model \
  --import \
  --disk path=/home/bijoy/vm-iso/consul-cloudimg.img,format=qcow2,bus=virtio,size=20 \
  --disk path=/home/bijoy/cloud-init/consul.iso,device=cdrom,readonly=on \
  --os-variant ubuntu24.04 \
  --network network=default,model=virtio \
  --graphics vnc \
  --noautoconsole \
  --channel unix,target.type=virtio,target.name=org.qemu.guest_agent.0



golden-noble-server-cloudimg-amd64-microservice.iso


sudo systemctl status qemu-guest-agent



 genisoimage -output noble-server-cloudimg-amd64.iso -volid cidata -r -J user-data meta-data network-config

 genisoimage -output ~/cloud-init/golden-noble-server-cloudimg-amd64-microservice.iso \
-volid cidata -r -J \
~/java/note/cloud-init/golden-noble-server-cloudimg-amd64-microservice/user-data \
~/java/note/cloud-init/golden-noble-server-cloudimg-amd64-microservice/meta-data \
~/java/note/cloud-init/golden-noble-server-cloudimg-amd64-microservice/network-config


genisoimage -output ~/cloud-init/golden-noble-server-cloudimg-amd64-microservice.iso \
-volid cidata -joliet -rock \
~/java/note/cloud-init/golden-noble-server-cloudimg-amd64-microservice/

genisoimage -output cloud-init-seed.iso -volid cidata -joliet -rock \
  cloud-init/user-data cloud-init/meta-data cloud-init/network-config



genisoimage -output ~/cloud-init/consul.iso \
-volid cidata -joliet -rock \
~/java/note/cloud-init/consul/



  genisoimage -output cloud-init.iso -volid cidata -joliet -rock user-data meta-data
  genisoimage -output cloud-init.iso -volid cidata -joliet -rock user-data meta-data
  genisoimage -output cloud-init.iso -volid cidata -joliet -rock user-data meta-data network-config
  genisoimage -output cloud-init.iso -volid cidata -joliet -rock user-data meta-data network-config
 
  genisoimage -output cloud-init.iso -volid cidata -r -rock user-data meta-data network-config
  genisoimage -output cloud-init.iso -volid cidata -r -rock user-data meta-data network-config






  isoinfo -i cloud-init.iso -R -l
virsh console golden-noble-server-cloudimg-amd64-microservice
virsh console 
vmuser/vmuser

  virsh start golden-noble-server-cloudimg-amd64-microservice
  virsh domifaddr golden-noble-server-cloudimg-amd64-microservice
  virsh domiflist golden-noble-server-cloudimg-amd64-microservice

  sudo virsh destroy golden-noble-server-cloudimg-amd64-microservice 
  sudo virsh undefine golden-noble-server-cloudimg-amd64-microservice

   sudo virsh destroy golden-noble-server-cloudimg-amd64-microservice  && sudo virsh undefine golden-noble-server-cloudimg-amd64-microservice

   virsh restart golden-noble-server-cloudimg-amd64-microservice

   virsh list --all

   isoinfo -i ~/cloud-init/golden-noble-server-cloudimg-amd64-microservice.iso -R -l

   sudo cloud-init status
   sudo cloud-init status --long

   sudo tail -f /var/log/cloud-init-output.log

sudo cloud-init clean
sudo cloud-init init
sudo cloud-init modules --mode=config
sudo cloud-init modules --mode=final


sudo qemu-img resize /home/bijoy/vm-iso/noble-server-cloudimg-amd64.img 20G

